<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<title>
		Product - Bombastic
	</title>
	
	<!-- update me -->
	<!--<link href="https://s9.limitedrun.com/images/1380529/fredofavv.png?type=image/png" rel="shortcut icon" type="image/png">-->
  <meta name="description" content=""/>
  <meta property="og:title" content=""/>
  <meta property="og:description" content=""/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content=""/>
  <meta property="og:image" content=""/>
  <meta property="og:site_name" content=""/>
  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="" />
  <meta name="twitter:image" content="">
  <meta name="twitter:description" content="">
  
  <meta name="theme-color" content="#000" />
  
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/brands.css" integrity="sha384-7xAnn7Zm3QC1jFjVc1A6v/toepoG3JXboQYzbM0jrPzou9OFXm/fY6Z/XiIebl/k" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/solid.css" integrity="sha384-TbilV5Lbhlwdyc4RuIV/JhD8NR+BfMrvz4BL5QFa2we1hQu6wvREr3v6XSRfCTRp" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/fontawesome.css" integrity="sha384-ozJwkrqb90Oa3ZNb+yKFW2lToAWYdTiF1vt8JiH5ptTGHTGcN7qdoR1F95e0kYyG" crossorigin="anonymous">
  
	<link href="./css/materialize-shaved.css" rel="stylesheet"> 
	<link href="./css/default.css" rel="stylesheet"> 
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,700&display=swap" rel="stylesheet"> 
  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tilt.js/1.2.1/tilt.jquery.min.js"></script>
</head>

<body id="product" class="loading initial-load">
	<header class="flex cen">
			<span id="menu-trigger"><i class="fas fa-bars"></i></span>
			<h1>H111111</h1>
			<span id="cart-trigger"><i class="fas fa-shopping-cart"></i></span>
	</header>
	
	<nav>
		<div class="nav-bg"></div>
		<div class="dropdown">
			<a href="#">Store</a>
			<ul>
				<li><a href="#">Tees</a></li>
				<li><a href="#">Hoodies</a></li>
				<li><a href="#">On Sale</a></li>
			</ul>
		</div>
		<a href="#">Tour</a>
		<a href="#">Contact</a>
		<a href="#" target="_blank">FAQ</a>
	</nav>
	
	<main class="flex ver">
		<div class="product-container">
			<div class="product-images flex ver clump">
				<img src="img1.JPG">
				<img src="img1b.JPG">
			</div>
				<div class="product-quickadd flex clump ver docked">
					<span>Product Title</span>
					<div class="selector-container sizes-container">
						<a href="#product-details" class="selector size-selector xs in-stock">XS</a>
						<a href="#product-details" class="selector size-selector s in-stock">S</a>
						<a href="#product-details" class="selector size-selector m in-stock">M</a>
						<a href="#product-details" class="selector size-selector l in-stock">L</a>
						<a href="#product-details" class="selector size-selector xl in-stock">XL</a>
						<a href="#product-details" class="selector size-selector 2x in-stock">2X</a>
						<a href="#product-details" class="selector size-selector 3x in-stock">3X</a>
					</div>
					<a href="#product-details" class="details">&#9660; Details &#9660;</a>
			</div>
			<div id="product-details" class="product-details flex ver clump">
				<div class="product-selection">
					<h1>Product Title</h1>
					<div class="selector-container sizes-container">
							<a data-price="50.0" class="selector size-selector xs in-stock">XS</a>
							<a data-price="50.0" class="selector size-selector s in-stock">S</a>
							<a data-price="50.0" class="selector size-selector m in-stock">M</a>
							<a data-price="50.0" class="selector size-selector l in-stock" id="">L</a>
							<a data-price="50.0" class="selector size-selector xl in-stock" id="">XL</a>
							<a data-price="50.0" class="selector size-selector 2x in-stock">2X</a>
							<a data-price="52.0" class="selector size-selector 3x in-stock">3X</a>
					</div>
					<span class="btn disabled" id="variation-submit" onclick="javascript:Store.cart.add($('#selected').data('id'));return false;"><span class="selected-price"></span>Add</span>
				</div>
				<div class="copy scroller">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam mollis lacus vitae massa egestas porttitor non et arcu. Donec in lacus ante. Nunc tristique nunc sed neque interdum, non interdum ex pharetra. Sed accumsan turpis eget risus tristique, eget bibendum est tempor. Sed bibendum turpis tempus eros egestas pretium. Nunc in augue sit amet lectus mattis eotie ut vel tortor.  </div>
			</div>
		</div>
	</main>
	
	<footer class="flex cen">
		<div class="flex cen spread">
			<span class="copyright">&#9400;((Current Year)) ((Store Name))</span>
			<span class="links"><a>Contact</a> / <a>FAQ</a></span>
		</div>
	</footer>  
	
	<script>
		function throttle(fn, wait) {
			var time = Date.now();
			return function() {
				if ((time + wait - Date.now()) < 0) {
					fn();
					time = Date.now();
				}
			}
		}

	
		$("#menu-trigger, .nav-bg").on("click", function (){
			$('body').toggleClass("nav-is-open");
		});
		
		// Product page functions
		var pageEventsSet = false;
		var totalScroll = 0;
		
		//If there's a selection, enable button
		function checkSelected() {
			if($('#selected').length) {
				$('#variation-submit').removeClass('disabled');
			} else {
				$('#variation-submit').addClass('disabled');
			}
		}

		function clearSelection() {
			$('#selected').attr('id','');
			$('.selected').removeClass('selected');
			$('#variation-submit').addClass('disabled');
			$('.selected-price').text("");
		}

		// Updates selected option size availability
		function updateOption(el) {
			if(!$(el).hasClass('unavailable')) {
				clearSelection();
				var sizes = $('.size-array').data("sizes").split(", ");
				
				updateImage(el);
				$('.sizes-container').removeClass('unselected');
				$('.selected-option').removeClass('selected-option');
				el.addClass('selected-option');
				
				sizes.forEach(function(size){
					var currentSize = " ." + size;
					if(el.data(size)) {
						$(currentSize).removeClass('out-of-stock');
						$(currentSize).addClass('in-stock');
						$(currentSize).data('id', $("." + $(el).attr('id')).data(size)); //grab the id of the option selected, assign product ids from samp
						$(currentSize).data('price', $(el).data('price') + ".0");
						
					} else {
						$(currentSize).addClass('out-of-stock');
						$(currentSize).removeClass('in-stock');
						$(currentSize).attr('id','');
						$(currentSize).data('id', ''); //remove data id so wrong variations don't get added
					}
				});
			}
		}

		// Adds #selected on click, removes old
		function selectSize(el) {
			if (!(el.attr('id') == "selected")) { 
				$('#selected').attr('id','');
				$('.selected').removeClass('selected');
				$('#product-details .selector-container a:eq(' + el.index() + ')').attr('id','selected');
				$('#selected').addClass('selected');
				$('.product-quickadd .selector-container a:eq(' + el.index() + ')').addClass('selected');
				$('#variation-submit').removeClass('disabled');
				$('.selected-price').text("$" + $('#selected').data('price') + "0 / ");
				
			} else {
				clearSelection();
			}
		}
		
		if (!pageEventsSet) {
			$('.option-selector').on('click', function(e){
				var $this = $(this);
				updateOption($this);
				checkSelected();
			});
			
			$('.option-selector[href^="#"]').on('click', function (e) {
				e.preventDefault();
			});
			
			$('.size-selector').on('click', function(e){
				var $this = $(this);
				selectSize($this);
			});
		
			$(window).on('scroll', throttle(function () {
				console.log('scrollfire');
        var imageH =  $(this).height() - $('.product-images').height();
        var imageT = this.scrollY - $('.product-images').offset().top;
        
        $('.scroller').scrollTop(imageT / imageH * ($('.scroller').height() - $(this).height()));
			}, 1));
			
			pageEventsSet = true;
		}
	</script>
</body>
</html>